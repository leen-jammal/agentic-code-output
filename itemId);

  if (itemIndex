-1) {
    return res.status(404).json({ message: 'Item not found' });
  }

  if (!req.body.name) {
    return res.status(400).json({ message: 'Item name is required' });
  }

  items[itemIndex] = { id: itemId, name: req.body.name };
  res.json({ message: 'Item updated successfully' });
});


// DELETE an item
app.delete('/api/items/:id', (req, res) => {
  const itemId = parseInt(req.params.id);
  items = items.filter(item => item.id !== itemId);
  res.json({ message: 'Item deleted successfully' });
});


// Error handling middleware (MUST be defined last, before any other error handlers)
app.use((err, req, res, next) => {
  console.error(err.stack); // Log the error stack to the console

  // Respond with a generic error message
  res.status(500).json({ message: 'Something went wrong!' });
});


// Start the server
app.listen(port, () => {
  console.log(`Server listening on port ${port}`);
});